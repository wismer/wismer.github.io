<!DOCTYPE html>
    <head>
      <link href="styles.css" rel="stylesheet" />
    </head>
    <body>
      <div class="dvd-container darken">
        <img src="./dvdlogo-01.svg" class="dvd-logo" />
        <img src="./dvdlogo-02.svg" class="dvd-logo" />
        <img src="./dvdlogo-03.svg" class="dvd-logo" />
        <img src="./dvdlogo-04.svg" class="dvd-logo" />
        <img src="./dvdlogo-05.svg" class="dvd-logo" />
        <img src="./dvdlogo-06.svg" class="dvd-logo" />
        <img src="./dvdlogo-07.svg" class="dvd-logo" />
      </div>
      <main>
        <svg viewBox="10 10 1 1" xmlns="http://www.w3.org/2000/svg">
          <!-- Some graphical objects to use -->
          <defs>
            <g x="0" y="0" id="dvdLogo" data-name="Calque 2"><g id="Layer_1" data-name="Layer 1"><path class="cls-1" d="M128.81,10.16H147S169,9,168.45,20.32c-.87,17.47-27.65,16.22-27.65,16.22L146,13.83h-18.2L120.2,46.7h18.06s18,.8,32.88-6.35c15.8-7.62,15.94-21,15.94-21a15.3,15.3,0,0,0-7.76-13.4C170,.42,157.87,0,157.87,0H118.09L94.53,30.62,84.65,0H16.08L13.54,10.16h18.2S53.75,9,53.19,20.32c-.87,17.47-27.65,16.22-27.65,16.22l5.22-22.71H12.56L4.94,46.7H23s18,.8,32.87-6.35c15.8-7.62,15.94-21,15.94-21a35,35,0,0,0-.7-5.5c-.43-1.41-1-3.67-1-3.67H71L87.76,57.28l41.05-47.12Z"/><path class="cls-1" d="M88.32,57.28C39.54,57.28,0,63,0,70s39.54,12.7,88.32,12.7S176.64,77,176.64,70,137.1,57.28,88.32,57.28ZM45.54,76.92H41.82L34.06,63.73h5.21l4.46,8,4.48-8h5.22Zm20.93,0h-4.8V63.73h4.8Zm17,0h-6.8V63.73h6.8c5.15,0,9.38,2.89,9.38,6.59S88.58,76.92,83.46,76.92Zm29.16-10.28h-5.7v2.2h5.41v2.9h-5.41V74h5.7v2.9h-10.5V63.73h10.5Zm19.29,10.72c-5.93,0-10.21-3-10.21-7.28,0-4,4.89-6.78,10.21-6.78s10.21,2.79,10.21,6.78C142.12,74.35,137.83,77.36,131.91,77.36Z"/><path class="cls-1" d="M131.91,66.62c2.86,0,5.21,1.66,5.21,3.48,0,2.27-2.35,3.93-5.21,3.93s-5.22-1.66-5.22-3.93c0-1.82,2.35-3.48,5.22-3.48Z"/><path class="cls-1" d="M82.58,66.64H81.45V74h1.08c2.87,0,5.32-1.12,5.32-3.69C87.85,68,85.67,66.64,82.58,66.64Z"/></g></g>
        
            <linearGradient id="myGradient" gradientTransform="rotate(90)">
              <stop offset="20%" stop-color="gold" />
              <stop offset="90%" stop-color="red" />
            </linearGradient>
          </defs>
        
          <!-- using my graphical objects -->
          <use x="0" y="0" href="#dvdLogo" fill="url('#myGradient')" />
        </svg>

        <!-- <img src="./dvdlogo-01.svg" srcset="./dvdlogo-02.svg 100w, ./dvdlogo-03.svg 100w" sizes="200px" /> -->
        <section class="title-container">
          <div id="title">
            <h1 class="title card">
              10
            </h1>
            <h1>
              31
            </h1>
            <h1>
              25
            </h1>
          </div>
        </section>
        <!-- <section class="card card-section">
          When?
          <div>
              <p>Lorem ipsum dolor sit amet <a href="lorem">consectetur</a> adipisicing elit. Pariatur sapiente reiciendis ratione odit, quisquam provident debitis repellendus eligendi recusandae dolorum praesentium atque maxime obcaecati vero libero corporis voluptatem facere incidunt.</p>
          </div>
          <div>
              <p>Lorem ipsum dolor sit amet <a href="lorem">consectetur</a> adipisicing elit. Pariatur sapiente reiciendis ratione odit, quisquam provident debitis repellendus eligendi recusandae dolorum praesentium atque maxime obcaecati vero libero corporis voluptatem facere incidunt.</p>
          </div>
        </section>
        <section class="card card-section">
          <div>
              <p>Lorem ipsum dolor sit amet <a href="lorem">consectetur</a> adipisicing elit. Pariatur sapiente reiciendis ratione odit, quisquam provident debitis repellendus eligendi recusandae dolorum praesentium atque maxime obcaecati vero libero corporis voluptatem facere incidunt.</p>
          </div>
          <div>
              <p>Lorem ipsum dolor sit amet <a href="lorem">consectetur</a> adipisicing elit. Pariatur sapiente reiciendis ratione odit, quisquam provident debitis repellendus eligendi recusandae dolorum praesentium atque maxime obcaecati vero libero corporis voluptatem facere incidunt.</p>
          </div>

        </section>
        <section class="card card-section">
          <div>
              <p>Lorem ipsum dolor sit amet <a href="lorem">consectetur</a> adipisicing elit. Pariatur sapiente reiciendis ratione odit, quisquam provident debitis repellendus eligendi recusandae dolorum praesentium atque maxime obcaecati vero libero corporis voluptatem facere incidunt.</p>
          </div>
          <div>
              <p>Lorem ipsum dolor sit amet <a href="lorem">consectetur</a> adipisicing elit. Pariatur sapiente reiciendis ratione odit, quisquam provident debitis repellendus eligendi recusandae dolorum praesentium atque maxime obcaecati vero libero corporis voluptatem facere incidunt.</p>
          </div>

        </section>
        <section class="card card-section">
          <div>
              <p>Lorem ipsum dolor sit amet <a href="lorem">consectetur</a> adipisicing elit. Pariatur sapiente reiciendis ratione odit, quisquam provident debitis repellendus eligendi recusandae dolorum praesentium atque maxime obcaecati vero libero corporis voluptatem facere incidunt.</p>
          </div>
          <div>
              <p>Lorem ipsum dolor sit amet <a href="lorem">consectetur</a> adipisicing elit. Pariatur sapiente reiciendis ratione odit, quisquam provident debitis repellendus eligendi recusandae dolorum praesentium atque maxime obcaecati vero libero corporis voluptatem facere incidunt.</p>
          </div>

        </section>
        <section class="card card-section">
          <div>
              <p>Lorem ipsum dolor sit amet <a href="lorem">consectetur</a> adipisicing elit. Pariatur sapiente reiciendis ratione odit, quisquam provident debitis repellendus eligendi recusandae dolorum praesentium atque maxime obcaecati vero libero corporis voluptatem facere incidunt.</p>
          </div>
          <div>
              <p>Lorem ipsum dolor sit amet <a href="lorem">consectetur</a> adipisicing elit. Pariatur sapiente reiciendis ratione odit, quisquam provident debitis repellendus eligendi recusandae dolorum praesentium atque maxime obcaecati vero libero corporis voluptatem facere incidunt.</p>
          </div>
        </section> -->
      </main>
      <script type="application/javascript">
        let activeIdx = 0;
        function updateColor() {
          const logos = document.querySelectorAll('.dvd-logo');
          logos.forEach((e, idx) => {
            if (e.classList.contains('active')) {
              e.classList.remove('active');
              activeIdx = idx;
            }
          });
          activeIdx = activeIdx === 6 ? 0 : activeIdx + 1;
          logos.item(activeIdx).classList.add('active');
        }

        window.updateColor = updateColor;

        function updatePosition(elem, [x, y], direction = 'SW') {
          switch (direction) {
            case 'SW':
              x = x + 1;
              y = y - 1;
              break;
            case 'NE':
              x = x - 1;
              y = y + 1;
              break;
            case 'SE':
              x = x + 1;
              y = y + 1;
              break;
            default:
              x = x - 1;
              y = y - 1;
              // NW
          }
          elem.style.left = `${y}px`;
          elem.style.top = `${x}px`;
          return [x, y];
        }

        const TIMEOUT = 5000 // * 60 * 2; // two minutes
        let timer = 0;
        
        document.addEventListener("DOMContentLoaded", () => {
          let dvdfd;
          let fd;

          function setupTimer() {
            console.log('timer started!');
            fd = setTimeout(() => {
              dvdfd = activateDVDLogo();
            }, TIMEOUT);
          }

          function reset() {
            console.log("RESET");
            // reset timer
            fd && clearTimeout(fd);
            setupTimer();
            // clear out of logo mode
            if (dvdfd) {
              document.querySelector('main').classList.remove('darken');
              clearInterval(dvdfd);
              let logo = document.querySelector('img.active');
              if (logo) {
                logo.classList.remove('active');
              }
            }

          }

          document.addEventListener('keypress', reset);
          document.addEventListener('click', reset);
          document.addEventListener('mousemove', reset);
          document.addEventListener('touchstart', reset);
          // document.addEventListener('click', () => {
          //   fd && clearTimeout(fd);
          //   setupTimer();
          // });

          // document.addEventListener('mousemove', () => {
          //   fd && clearTimeout(fd);
          //   setupTimer();
          // });

          setupTimer();

          function activateDVDLogo() {

            // lower brightness
            document.querySelector('main').classList.add('darken');
            let coords = [0, 0];
            // establish direction
            // always moves diagonally
            // NW / SW / NE / SE>
            let logos = document.querySelectorAll('.dvd-logo');
  
            for (let logo of logos) {
              console.log(logo);
            }
            logos = [...logos];
            logos[activeIdx].classList.add('active');
  
            let direction = 'SE';
            return setInterval(() => {
              let logo = logos[activeIdx];
              coords = updatePosition(logo, coords, direction);
              const [x, y] = coords;
              const { innerHeight: cx, innerWidth: cy } = window;
              let prevDirection = direction;
              switch (direction) {
                case 'NE':
                  if (x === 0) {
                    direction = 'SE';
                  } else if ((y + logo.width) >= cy) {
                    direction = 'NW';
                  }
                  break;
                case 'SE':
                  if ((x + logo.height) === cx) {
                    direction = 'NE';
                  } else if ((y + logo.width) >= cy) {
                    direction = 'SW';
                  }
                  break;
                case 'NW':
                  if (x === 0) {
                    direction = 'SW';
                    console.log("bounce", x, cx);
                  } else if (y === 0) {
                    direction = 'NE';
                  }
                  break;
                case 'SW':
                  if (y === 0) {
                    direction = 'SE';
                  } else if ((x + logo.height) >= cx) {
                    console.log("bounce", x, cx)
                    direction = 'NW';
                  }
              }

              // if (prevDirection !== direction) {
              //   updateColor();
              // }
  
              // if (coords[0] === window.innerHeight && direction === 'SE') {
              //   direction = 'NE';
              // } else if (coords[0] === 0 && direction === 'NE') {
              //   direction = 'SE';
              // } else if (coords[1] === window.innerWidth && direction === 'NE') {
              //   direction = 'NW';
              // } else if (coords[1] === 0 && direction === 'SW') {
              //   direction = 'SE';
              // } else if (coords[1] === 0 && direction === 'NW') {
              //   direction = 'NE';
              // }
            }, 10);
          }
        });
      </script>
  </body>
</html>